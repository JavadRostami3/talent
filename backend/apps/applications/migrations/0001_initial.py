# Generated by Django 6.0 on 2025-12-06 03:47

import apps.applications.models
import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('accounts', '0002_initial'),
        ('admissions', '0002_initial'),
        ('core', '0001_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Application',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
                ('tracking_code', models.CharField(default=apps.applications.models.generate_tracking_code, max_length=20, unique=True, verbose_name='کد پیگیری')),
                ('status', models.CharField(choices=[('NEW', 'ثبت\u200cنام اولیه'), ('PROGRAM_SELECTED', 'رشته انتخاب شد'), ('PERSONAL_INFO_COMPLETED', 'اطلاعات شخصی تکمیل شد'), ('IDENTITY_DOCS_UPLOADED', 'مدارک شناسایی آپلود شد'), ('EDU_INFO_COMPLETED', 'اطلاعات تحصیلی تکمیل شد'), ('EDU_DOCS_UPLOADED', 'مدارک تحصیلی آپلود شد'), ('SUBMITTED', 'ارسال شده (منتظر بررسی)'), ('UNDER_UNIVERSITY_REVIEW', 'در حال بررسی توسط مسئول دانشگاه'), ('APPROVED_BY_UNIVERSITY', 'تایید شده توسط مسئول دانشگاه'), ('REJECTED_BY_UNIVERSITY', 'رد شده توسط مسئول دانشگاه'), ('RETURNED_FOR_CORRECTION', 'برگشت برای اصلاح نواقص'), ('UNDER_FACULTY_REVIEW', 'در حال بررسی توسط مسئول دانشکده'), ('FACULTY_REVIEW_COMPLETED', 'بررسی دانشکده تکمیل شد'), ('COMPLETED', 'تکمیل شده'), ('INELIGIBLE', 'فاقد شرایط'), ('DELETED', 'حذف شده')], default='NEW', max_length=50, verbose_name='وضعیت')),
                ('rank_percentile_group', models.CharField(blank=True, max_length=20, verbose_name='گروه رتبه')),
                ('total_score', models.FloatField(default=0, verbose_name='امتیاز نهایی')),
                ('score_calculated_at', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ محاسبه امتیاز')),
                ('university_review_status', models.CharField(choices=[('PENDING', 'در انتظار بررسی'), ('APPROVED', 'تایید شده'), ('APPROVED_WITH_DEFECT', 'تایید با نقص'), ('REJECTED', 'رد شده')], default='PENDING', max_length=30, verbose_name='وضعیت بررسی مسئول دانشگاه')),
                ('university_review_comment', models.TextField(blank=True, verbose_name='نظر مسئول دانشگاه')),
                ('university_reviewed_at', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ بررسی مسئول دانشگاه')),
                ('faculty_review_completed', models.BooleanField(default=False, verbose_name='بررسی دانشکده تکمیل شده')),
                ('faculty_review_comment', models.TextField(blank=True, verbose_name='نظر مسئول دانشکده')),
                ('faculty_reviewed_at', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ بررسی مسئول دانشکده')),
                ('admission_overall_status', models.CharField(blank=True, choices=[('ADMITTED', 'پذیرفته شده'), ('REJECTED', 'پذیرفته نشده'), ('WAITING', 'ذخیره'), ('CANCELED', 'لغو شده')], max_length=30, verbose_name='وضعیت نهایی پذیرش')),
                ('admission_result_published_at', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ اعلام نتیجه')),
                ('applicant', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='applications', to='accounts.applicantprofile', verbose_name='داوطلب')),
                ('faculty_reviewed_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='faculty_reviewed_applications', to=settings.AUTH_USER_MODEL, verbose_name='بررسی شده توسط مسئول دانشکده')),
                ('round', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='applications', to='admissions.admissionround', verbose_name='فراخوان')),
                ('university_of_study', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='applications', to='core.university', verbose_name='دانشگاه محل تحصیل')),
                ('university_reviewed_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='university_reviewed_applications', to=settings.AUTH_USER_MODEL, verbose_name='بررسی شده توسط مسئول دانشگاه')),
                ('university_weight', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='applications', to='core.universityweight', verbose_name='ضریب دانشگاه')),
            ],
            options={
                'verbose_name': 'درخواست ثبت\u200cنام',
                'verbose_name_plural': 'درخواست\u200cهای ثبت\u200cنام',
                'ordering': ['-created_at'],
                'unique_together': {('applicant', 'round')},
            },
        ),
        migrations.CreateModel(
            name='ApplicationEducationRecord',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
                ('degree_level', models.CharField(choices=[('BSC', 'کارشناسی'), ('MSC', 'کارشناسی ارشد'), ('PHD', 'دکتری')], default='BSC', max_length=10, verbose_name='مقطع')),
                ('status', models.CharField(choices=[('STUDYING', 'در حال تحصیل'), ('GRADUATED', 'فارغ\u200cالتحصیل')], help_text='آیا در حال تحصیل است یا فارغ\u200cالتحصیل شده؟', max_length=20, verbose_name='وضعیت تحصیل')),
                ('field_of_study', models.CharField(help_text='از لیست رشته\u200cها انتخاب کنید (قابل جستجو)', max_length=255, verbose_name='رشته تحصیلی')),
                ('gpa', models.DecimalField(blank=True, decimal_places=2, help_text='معدل کل دوره تحصیلی', max_digits=5, null=True, verbose_name='معدل')),
                ('start_month', models.PositiveIntegerField(blank=True, help_text='عدد بین 1 تا 12', null=True, verbose_name='ماه شروع دوره')),
                ('start_year', models.PositiveIntegerField(blank=True, help_text='مثال: 1398', null=True, verbose_name='سال شروع دوره')),
                ('graduation_month', models.PositiveIntegerField(blank=True, help_text='عدد بین 1 تا 12', null=True, verbose_name='ماه اخذ مدرک')),
                ('graduation_year', models.PositiveIntegerField(blank=True, help_text='مثال: 1402', null=True, verbose_name='سال اخذ مدرک')),
                ('total_units_passed', models.PositiveIntegerField(blank=True, help_text='برای ارشد: تا پایان نیمسال ششم', null=True, verbose_name='تعداد واحد گذرانده')),
                ('semester_count', models.PositiveIntegerField(blank=True, help_text='فقط برای استعداد درخشان ارشد', null=True, verbose_name='تعداد نیمسال گذرانده')),
                ('class_size', models.PositiveIntegerField(blank=True, help_text='فقط برای استعداد درخشان ارشد', null=True, verbose_name='تعداد دانشجو دوره')),
                ('rank_status', models.CharField(blank=True, help_text='مثال: رتبه 2 از 30 درصد (دهمه اصلی) - فقط برای ارشد', max_length=100, verbose_name='وضعیت رتبه')),
                ('application', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='education_records', to='applications.application', verbose_name='درخواست')),
                ('university', models.ForeignKey(help_text='از لیست دانشگاه\u200cها انتخاب کنید (قابل جستجو)', on_delete=django.db.models.deletion.PROTECT, related_name='education_records', to='core.university', verbose_name='دانشگاه')),
            ],
            options={
                'verbose_name': 'سابقه تحصیلی',
                'verbose_name_plural': 'سوابق تحصیلی',
                'ordering': ['application', '-degree_level'],
            },
        ),
        migrations.CreateModel(
            name='Book',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
                ('title_fa', models.CharField(max_length=500, verbose_name='عنوان فارسی')),
                ('title_en', models.CharField(blank=True, max_length=500, verbose_name='عنوان انگلیسی')),
                ('book_type', models.CharField(choices=[('AUTHORSHIP', 'تألیف'), ('TRANSLATION', 'ترجمه')], max_length=20, verbose_name='نوع')),
                ('publisher', models.CharField(max_length=200, verbose_name='ناشر')),
                ('isbn', models.CharField(blank=True, max_length=30, verbose_name='ISBN')),
                ('publish_year', models.PositiveIntegerField(verbose_name='سال انتشار')),
                ('authors_or_translators', models.TextField(verbose_name='نویسندگان/مترجمان')),
                ('file', models.FileField(upload_to='phd/books/', verbose_name='فایل کتاب/مدارک')),
                ('score', models.FloatField(default=0, help_text='حداکثر 4 امتیاز', verbose_name='امتیاز')),
                ('reviewed_at', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ بررسی')),
                ('application', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='books', to='applications.application', verbose_name='درخواست')),
                ('reviewed_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='reviewed_books', to=settings.AUTH_USER_MODEL, verbose_name='بررسی\u200cکننده')),
            ],
            options={
                'verbose_name': 'کتاب',
                'verbose_name_plural': 'کتاب\u200cها',
                'ordering': ['application', '-publish_year'],
            },
        ),
        migrations.CreateModel(
            name='ConferenceArticle',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
                ('title_fa', models.CharField(max_length=500, verbose_name='عنوان فارسی')),
                ('title_en', models.CharField(blank=True, max_length=500, verbose_name='عنوان انگلیسی')),
                ('conference_name', models.CharField(max_length=300, verbose_name='نام کنفرانس')),
                ('conference_type', models.CharField(choices=[('NATIONAL', 'داخلی'), ('INTERNATIONAL', 'خارجی')], max_length=20, verbose_name='نوع کنفرانس')),
                ('year', models.PositiveIntegerField(verbose_name='سال')),
                ('authors', models.TextField(verbose_name='نویسندگان')),
                ('file', models.FileField(upload_to='phd/conference_articles/', verbose_name='فایل مقاله')),
                ('score', models.FloatField(default=0, help_text='حداکثر 4 امتیاز', verbose_name='امتیاز')),
                ('reviewed_at', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ بررسی')),
                ('application', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='conference_articles', to='applications.application', verbose_name='درخواست')),
                ('reviewed_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='reviewed_conference_articles', to=settings.AUTH_USER_MODEL, verbose_name='بررسی\u200cکننده')),
            ],
            options={
                'verbose_name': 'مقاله کنفرانس',
                'verbose_name_plural': 'مقالات کنفرانس',
                'ordering': ['application', '-year'],
            },
        ),
        migrations.CreateModel(
            name='EducationScoring',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
                ('bsc_gpa_university_score', models.FloatField(default=0, help_text='حداکثر 6 امتیاز - کارشناس به صورت دستی وارد می\u200cکند', verbose_name='معدل و کیفیت دانشگاه کارشناسی')),
                ('msc_gpa_university_score', models.FloatField(default=0, help_text='حداکثر 5 امتیاز - کارشناس به صورت دستی وارد می\u200cکند', verbose_name='معدل و کیفیت دانشگاه ارشد')),
                ('bsc_duration_score', models.FloatField(default=0, help_text='حداکثر 3 امتیاز - کارشناس به صورت دستی وارد می\u200cکند', verbose_name='طول مدت دوره کارشناسی')),
                ('msc_duration_score', models.FloatField(default=0, help_text='حداکثر 3 امتیاز - کارشناس به صورت دستی وارد می\u200cکند', verbose_name='طول مدت دوره ارشد')),
                ('olympiad_score', models.FloatField(default=0, help_text='حداکثر 5 امتیاز - کارشناس به صورت دستی وارد می\u200cکند', verbose_name='برگزیدگان المپیادهای علمی')),
                ('language_certificate_score', models.FloatField(default=0, help_text='حداکثر 8 امتیاز - کارشناس به صورت دستی وارد می\u200cکند', verbose_name='مدرک زبان معتبر')),
                ('total_score', models.FloatField(default=0, help_text='جمع 6 امتیاز بالا (حداکثر 30 امتیاز)', verbose_name='جمع کل امتیازات')),
                ('scored_at', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ ثبت امتیازها')),
                ('comment', models.TextField(blank=True, verbose_name='توضیحات کارشناس')),
                ('application', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='education_scoring', to='applications.application', verbose_name='درخواست')),
                ('scored_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='education_scorings', to=settings.AUTH_USER_MODEL, verbose_name='ثبت\u200cکننده امتیازها')),
            ],
            options={
                'verbose_name': 'امتیازدهی سوابق تحصیلی',
                'verbose_name_plural': 'امتیازدهی سوابق تحصیلی',
            },
        ),
        migrations.CreateModel(
            name='FestivalAward',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
                ('festival_name', models.CharField(max_length=300, verbose_name='نام جشنواره')),
                ('award_title', models.CharField(max_length=300, verbose_name='عنوان جایزه/مقام')),
                ('year', models.PositiveIntegerField(verbose_name='سال')),
                ('description', models.TextField(blank=True, verbose_name='توضیحات')),
                ('file', models.FileField(upload_to='phd/festival_awards/', verbose_name='فایل گواهی')),
                ('score', models.FloatField(default=0, verbose_name='امتیاز')),
                ('reviewed_at', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ بررسی')),
                ('application', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='festival_awards', to='applications.application', verbose_name='درخواست')),
                ('reviewed_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='reviewed_festival_awards', to=settings.AUTH_USER_MODEL, verbose_name='بررسی\u200cکننده')),
            ],
            options={
                'verbose_name': 'جایزه جشنواره',
                'verbose_name_plural': 'جوایز جشنواره',
                'ordering': ['application', '-year'],
            },
        ),
        migrations.CreateModel(
            name='Interview',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
                ('scheduled_date', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ و زمان مصاحبه')),
                ('location', models.CharField(blank=True, max_length=300, verbose_name='محل برگزاری')),
                ('status', models.CharField(choices=[('PENDING', 'در انتظار مصاحبه'), ('SCHEDULED', 'زمان مصاحبه تعیین شده'), ('COMPLETED', 'مصاحبه انجام شده'), ('ABSENT', 'غیبت در مصاحبه'), ('CANCELLED', 'لغو شده')], default='PENDING', max_length=20, verbose_name='وضعیت مصاحبه')),
                ('experience_analysis_score', models.FloatField(default=0, help_text='حداکثر 3 امتیاز', verbose_name='تشارک در تجربه و تحلیل مسائل علمی')),
                ('creativity_score', models.FloatField(default=0, help_text='حداکثر 3 امتیاز', verbose_name='وسعت نظر، خلاقیت و کاربردی\u200cبودن')),
                ('personality_expression_score', models.FloatField(default=0, help_text='حداکثر 3 امتیاز', verbose_name='شخصیت، صحت و حجم بیان')),
                ('documentation_score', models.FloatField(default=0, help_text='حداکثر 3 امتیاز', verbose_name='نگارش و مدارک فراواحد مرتبط با رشته تحصیلی')),
                ('speech_success_probability_score', models.FloatField(default=0, help_text='حداکثر 3 امتیاز', verbose_name='برناسی فن بیان و احتمال موفق')),
                ('lab_alignment_score', models.FloatField(default=0, help_text='حداکثر 15 امتیاز', verbose_name='همراستایی پژوهشی با آزمایشگاه\u200cهای علمی گروه')),
                ('total_interview_score', models.FloatField(default=0, help_text='حداکثر 30 امتیاز', verbose_name='جمع امتیاز مصاحبه')),
                ('interviewer_comment', models.TextField(blank=True, verbose_name='نظر مصاحبه\u200cکننده')),
                ('conducted_at', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ انجام مصاحبه')),
                ('scored_at', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ ثبت امتیازها')),
                ('application', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='interview', to='applications.application', verbose_name='درخواست')),
                ('interviewers', models.ManyToManyField(blank=True, related_name='conducted_interviews', to=settings.AUTH_USER_MODEL, verbose_name='مصاحبه\u200cکنندگان')),
                ('scored_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='scored_interviews', to=settings.AUTH_USER_MODEL, verbose_name='ثبت\u200cکننده امتیازها')),
            ],
            options={
                'verbose_name': 'مصاحبه',
                'verbose_name_plural': 'مصاحبه\u200cها',
                'ordering': ['-scheduled_date'],
            },
        ),
        migrations.CreateModel(
            name='LanguageCertificate',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
                ('language', models.CharField(choices=[('ENGLISH', 'انگلیسی'), ('FRENCH', 'فرانسه'), ('GERMAN', 'آلمانی'), ('ARABIC', 'عربی'), ('OTHER', 'سایر زبان\u200cها')], max_length=20, verbose_name='زبان')),
                ('certificate_type', models.CharField(choices=[('TOEFL', 'تافل (TOEFL)'), ('IELTS', 'آیلتس (IELTS)'), ('GRE', 'جی آر ای (GRE)'), ('MSRT', 'ام اس آر تی (MSRT)'), ('EPT', 'EPT دانشگاه آزاد'), ('DELF', 'DELF'), ('DALF', 'DALF'), ('TCF', 'TCF'), ('GOETHE', 'گوته (Goethe)'), ('TESTDAF', 'TestDaF'), ('ARABIC_TOAFL', 'تافل عربی'), ('OTHER', 'سایر مدارک')], max_length=30, verbose_name='نوع مدرک')),
                ('certificate_number', models.CharField(blank=True, max_length=100, verbose_name='شماره مدرک')),
                ('issue_date', models.CharField(max_length=50, verbose_name='تاریخ صدور')),
                ('expiry_date', models.CharField(blank=True, max_length=50, verbose_name='تاریخ انقضا')),
                ('test_score', models.CharField(help_text='مثال: 7.5 برای IELTS یا 100 برای TOEFL', max_length=50, verbose_name='نمره آزمون')),
                ('certificate_file', models.FileField(upload_to='language_certificates/', verbose_name='فایل مدرک زبان')),
                ('reviewed_at', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ بررسی')),
                ('review_comment', models.TextField(blank=True, verbose_name='نظر کارشناس')),
                ('application', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='language_certificates', to='applications.application', verbose_name='درخواست')),
                ('reviewed_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='reviewed_language_certificates', to=settings.AUTH_USER_MODEL, verbose_name='بررسی\u200cکننده')),
            ],
            options={
                'verbose_name': 'مدرک زبان',
                'verbose_name_plural': 'مدارک زبان',
                'ordering': ['application', '-issue_date'],
            },
        ),
        migrations.CreateModel(
            name='MastersThesis',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
                ('title_fa', models.CharField(max_length=500, verbose_name='عنوان فارسی')),
                ('title_en', models.CharField(blank=True, max_length=500, verbose_name='عنوان انگلیسی')),
                ('grade', models.DecimalField(decimal_places=2, max_digits=5, verbose_name='نمره پایان\u200cنامه')),
                ('defense_date', models.CharField(max_length=50, verbose_name='تاریخ دفاع')),
                ('defense_minutes_file', models.FileField(upload_to='phd/thesis/defense_minutes/', verbose_name='فایل صورت جلسه دفاع')),
                ('main_supervisor', models.CharField(max_length=200, verbose_name='استاد راهنمای اول')),
                ('second_supervisor', models.CharField(blank=True, max_length=200, verbose_name='استاد راهنمای دوم')),
                ('advisor_1', models.CharField(blank=True, max_length=200, verbose_name='استاد مشاور اول')),
                ('advisor_2', models.CharField(blank=True, max_length=200, verbose_name='استاد مشاور دوم')),
                ('score', models.FloatField(default=0, help_text='حداکثر 4 امتیاز', verbose_name='امتیاز کیفیت پایان\u200cنامه')),
                ('reviewed_at', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ بررسی')),
                ('application', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='masters_thesis', to='applications.application', verbose_name='درخواست')),
                ('reviewed_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='reviewed_theses', to=settings.AUTH_USER_MODEL, verbose_name='بررسی\u200cکننده')),
            ],
            options={
                'verbose_name': 'پایان\u200cنامه ارشد',
                'verbose_name_plural': 'پایان\u200cنامه\u200cهای ارشد',
            },
        ),
        migrations.CreateModel(
            name='OlympiadRecord',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
                ('olympiad_type', models.CharField(choices=[('PHYSICS', 'المپیاد فیزیک'), ('CHEMISTRY', 'المپیاد شیمی'), ('MATHEMATICS', 'المپیاد ریاضی'), ('COMPUTER', 'المپیاد کامپیوتر'), ('BIOLOGY', 'المپیاد زیست\u200cشناسی'), ('OTHER', 'سایر المپیادها')], max_length=20, verbose_name='نوع المپیاد')),
                ('olympiad_name', models.CharField(help_text='مثال: المپیاد فیزیک کشور - مرحله کشوری', max_length=300, verbose_name='نام دقیق المپیاد')),
                ('year', models.PositiveIntegerField(help_text='سال شمسی', verbose_name='سال برگزاری')),
                ('rank_level', models.CharField(choices=[('GOLD', 'رتبه طلا'), ('SILVER', 'رتبه نقره'), ('BRONZE', 'رتبه برنز'), ('TOP_10', '10 نفر برتر'), ('TOP_20', '20 نفر برتر'), ('PARTICIPANT', 'شرکت\u200cکننده')], max_length=20, verbose_name='سطح رتبه')),
                ('rank_number', models.PositiveIntegerField(blank=True, help_text='در صورت وجود', null=True, verbose_name='رتبه عددی')),
                ('certificate_file', models.FileField(upload_to='olympiad_certificates/', verbose_name='فایل مدرک المپیاد')),
                ('reviewed_at', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ بررسی')),
                ('review_comment', models.TextField(blank=True, verbose_name='نظر کارشناس')),
                ('application', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='olympiad_records', to='applications.application', verbose_name='درخواست')),
                ('reviewed_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='reviewed_olympiad_records', to=settings.AUTH_USER_MODEL, verbose_name='بررسی\u200cکننده')),
            ],
            options={
                'verbose_name': 'رکورد المپیاد',
                'verbose_name_plural': 'رکوردهای المپیاد',
                'ordering': ['application', '-year', 'rank_level'],
            },
        ),
        migrations.CreateModel(
            name='Patent',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
                ('title_fa', models.CharField(max_length=500, verbose_name='عنوان فارسی')),
                ('title_en', models.CharField(blank=True, max_length=500, verbose_name='عنوان انگلیسی')),
                ('patent_number', models.CharField(max_length=100, verbose_name='شماره ثبت اختراع')),
                ('registration_date', models.CharField(blank=True, max_length=50, verbose_name='تاریخ ثبت')),
                ('inventors', models.TextField(help_text='نام مخترعان را با ویرگول جدا کنید', verbose_name='مخترعان')),
                ('file', models.FileField(upload_to='phd/patents/', verbose_name='فایل گواهی')),
                ('score', models.FloatField(default=0, verbose_name='امتیاز')),
                ('reviewed_at', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ بررسی')),
                ('application', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='patents', to='applications.application', verbose_name='درخواست')),
                ('reviewed_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='reviewed_patents', to=settings.AUTH_USER_MODEL, verbose_name='بررسی\u200cکننده')),
            ],
            options={
                'verbose_name': 'ثبت اختراع',
                'verbose_name_plural': 'ثبت اختراعات',
                'ordering': ['application', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='RegistrationPayment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
                ('amount', models.PositiveIntegerField(verbose_name='مبلغ (ریال)')),
                ('transaction_id', models.CharField(blank=True, max_length=100, verbose_name='شناسه تراکنش')),
                ('electronic_receipt', models.CharField(blank=True, max_length=200, verbose_name='رسید الکترونیکی')),
                ('status', models.CharField(choices=[('PENDING', 'در انتظار'), ('PAID', 'پرداخت شده'), ('VERIFIED', 'تایید شده'), ('FAILED', 'ناموفق')], default='PENDING', max_length=20, verbose_name='وضعیت پرداخت')),
                ('paid_at', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ پرداخت')),
                ('verified_at', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ تایید')),
                ('confirmation_file', models.FileField(blank=True, null=True, upload_to='payments/confirmations/', verbose_name='فایل تاییدیه')),
                ('application', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='payment', to='applications.application', verbose_name='درخواست')),
                ('verified_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='verified_payments', to=settings.AUTH_USER_MODEL, verbose_name='تایید شده توسط')),
            ],
            options={
                'verbose_name': 'پرداخت هزینه ثبت\u200cنام',
                'verbose_name_plural': 'پرداخت\u200cهای هزینه ثبت\u200cنام',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='ResearchArticle',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
                ('title_fa', models.CharField(max_length=500, verbose_name='عنوان فارسی')),
                ('title_en', models.CharField(blank=True, max_length=500, verbose_name='عنوان انگلیسی')),
                ('journal_name', models.CharField(max_length=300, verbose_name='عنوان نشریه')),
                ('issn', models.CharField(blank=True, max_length=20, verbose_name='ISSN')),
                ('article_type', models.CharField(choices=[('RESEARCH_NATIONAL', 'علمی-پژوهشی (ملی)'), ('RESEARCH_INTERNATIONAL', 'علمی-پژوهشی (بین\u200cالمللی)'), ('PROMOTIONAL_NATIONAL', 'علمی-ترویجی (ملی)'), ('PROMOTIONAL_INTERNATIONAL', 'علمی-ترویجی (بین\u200cالمللی)')], max_length=50, verbose_name='نوع نشریه')),
                ('status', models.CharField(choices=[('NOT_RELATED', 'غیرمرتبط با پایان\u200cنامه'), ('EXTRACTED_FROM_THESIS', 'استخراج شده از پایان\u200cنامه')], max_length=30, verbose_name='وضعیت')),
                ('publish_date', models.CharField(blank=True, max_length=50, verbose_name='تاریخ چاپ یا پذیرش')),
                ('link', models.URLField(blank=True, max_length=500, verbose_name='لینک مقاله')),
                ('authors', models.TextField(help_text='نام نویسندگان را با ویرگول جدا کنید', verbose_name='نویسندگان')),
                ('record_code', models.CharField(blank=True, max_length=100, verbose_name='کد رکورد')),
                ('file', models.FileField(upload_to='phd/research_articles/', verbose_name='فایل مقاله و مدارک')),
                ('score', models.FloatField(default=0, help_text='امتیاز توسط مسئول بررسی تعیین می\u200cشود', verbose_name='امتیاز')),
                ('reviewed_at', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ بررسی')),
                ('application', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='research_articles', to='applications.application', verbose_name='درخواست')),
                ('reviewed_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='reviewed_research_articles', to=settings.AUTH_USER_MODEL, verbose_name='بررسی\u200cکننده')),
            ],
            options={
                'verbose_name': 'مقاله پژوهشی',
                'verbose_name_plural': 'مقالات پژوهشی',
                'ordering': ['application', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='ApplicationChoice',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
                ('priority', models.PositiveIntegerField(verbose_name='اولویت انتخاب')),
                ('admission_status', models.CharField(choices=[('PENDING', 'در انتظار'), ('ACCEPTED', 'پذیرفته شده'), ('REJECTED', 'پذیرفته نشده'), ('WAITING', 'ذخیره')], default='PENDING', max_length=20, verbose_name='وضعیت پذیرش')),
                ('admission_priority_result', models.PositiveIntegerField(blank=True, null=True, verbose_name='اولویت در نتیجه')),
                ('admission_note', models.TextField(blank=True, verbose_name='یادداشت')),
                ('application', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='choices', to='applications.application', verbose_name='درخواست')),
                ('program', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='application_choices', to='admissions.program', verbose_name='برنامه تحصیلی')),
            ],
            options={
                'verbose_name': 'انتخاب رشته',
                'verbose_name_plural': 'انتخاب\u200cهای رشته',
                'ordering': ['application', 'priority'],
                'unique_together': {('application', 'priority')},
            },
        ),
    ]
