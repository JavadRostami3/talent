# ุณุณุชู ูพูู ุงุฏูู - ุฎูุงุตู ูพุงุฏูโุณุงุฒ

## ุชุงุฑุฎ: 6 ุฏุณุงูุจุฑ 2025

## โ ฺฉุงุฑูุง ุงูุฌุงู ุดุฏู

### Backend

#### 1. API Endpoints ุฌุฏุฏ (`backend/apps/api/admin_views.py`)
โ **University Admin APIs:**
- `GET /api/admin/university/applications/` - ูุณุช ูพุฑููุฏูโูุง ุจุง ููุชุฑูุง ูพุดุฑูุชู
- `POST /api/admin/university/applications/{id}/review/` - ุจุฑุฑุณ ู ุชุตููโฺฏุฑ
- `GET /api/admin/university/statistics/` - ุขูุงุฑ dashboard

โ **Faculty Admin APIs:**
- `GET /api/admin/faculty/applications/` - ูุณุช ูพุฑููุฏูโูุง ุชุงุฏ ุดุฏู ุชูุณุท ูุณุฆูู ุฏุงูุดฺฏุงู
- `POST /api/admin/faculty/applications/{id}/review/` - ุชุตูู ููุง ูพุฐุฑุด/ุนุฏู ูพุฐุฑุด

#### 2. URL Configuration (`backend/apps/api/admin_urls.py`)
- ูุณุฑูุง API ุฌุฏุฏ ุจุฑุง University Admin ู Faculty Admin

#### 3. Permissions (`backend/apps/api/permissions.py`)
โ ุฏู Permission ุฌุฏุฏ:
- `IsUniversityAdmin` - ุงุฌุงุฒู ุฏุณุชุฑุณ ุจู ูุณุฆููู ุฏุงูุดฺฏุงู
- `IsFacultyAdmin` - ุงุฌุงุฒู ุฏุณุชุฑุณ ุจู ูุณุฆููู ุฏุงูุดฺฉุฏู

#### 4. Main URL Configuration (`backend/config/urls.py`)
- ูุนุงูโุณุงุฒ `/api/admin/` endpoints

---

### Frontend

#### 1. University Admin Pages

**ูุณุช ูพุฑููุฏูโูุง** (`UniversityAdminApplicationsList.tsx`):
- โ ุขูุงุฑ 7 ููุน ูุถุนุช (ฺฉูุ ุฏุฑ ุงูุชุธุงุฑุ ุฏุฑ ุญุงู ุจุฑุฑุณุ ุชุงุฏ ุดุฏูุ ุจุฑฺฏุดุช ุฏุงุฏู ุดุฏูุ ูุฑุงุด ุดุฏูุ ุฑุฏ ุดุฏู)
- โ ููุชุฑูุง ูพุดุฑูุชู:
  - ููุน ูุฑุงุฎูุงู (MA_TALENT, PHD_TALENT, PHD_EXAM, OLYMPIAD)
  - ูุถุนุช ุจุฑุฑุณ (PENDING, APPROVED, APPROVED_WITH_DEFECT, REJECTED)
  - ุฏุงูุดฺฉุฏู
  - ฺฏุฑูู ุขููุฒุด
  - ุฌุณุชุฌู (ฺฉุฏ ููุ ูุงูุ ฺฉุฏ ูพฺฏุฑ)
  - ููุชุฑ ูฺู: "ููุท ูพุฑููุฏูโูุง ูุฑุงุด ุดุฏู" (is_corrected)
- โ Pagination (20 ููุฑุฏ ุฏุฑ ูุฑ ุตูุญู)
- โ ููุงุด ุงุทูุงุนุงุช ุฎูุงุตู ูุฑ ูพุฑููุฏู

**ุจุฑุฑุณ ุฌุฒุฆุงุช ูพุฑููุฏู** (`UniversityAdminApplicationReview.tsx`):
- โ ููุงุด ฺฉุงูู ุงุทูุงุนุงุช ูุชูุงุถ
- โ ุฑุดุชูโูุง ุงูุชุฎุงุจ (ุจู ุชุฑุชุจ ุงูููุช)
- โ ุณูุงุจู ุชุญุตู
- โ ูุฏุงุฑฺฉ ุงุฑุณุงู (ุจุง ููฺฉ ูุดุงูุฏู)
- โ 3 ููุน ุชุตูู:
  - **ุชุงุฏ ู ุงุฑุฌุงุน ุจู ุฏุงูุดฺฉุฏู** (APPROVED)
  - **ุจุฑฺฏุดุช ุจุฑุง ุงุตูุงุญ ููุงูุต** (APPROVED_WITH_DEFECT) - ุจุง ุงูฺฉุงู ุงูุฒูุฏู ูุณุช ููุงูุต
  - **ุฑุฏ ูพุฑููุฏู** (REJECTED)
- โ ูุฑู ูุธุฑ ู ุชูุถุญุงุช
- โ Alert ุจุฑุง ูพุฑููุฏูโูุง ุจุฑุฑุณ ุดุฏู ูุจู

#### 2. Faculty Admin Pages

**ูุณุช ูพุฑููุฏูโูุง** (`FacultyAdminApplicationsList.tsx`):
- โ ุขูุงุฑ 3 ููุน (ฺฉูุ ุฏุฑ ุงูุชุธุงุฑ ุจุฑุฑุณุ ุจุฑุฑุณ ุดุฏู)
- โ ููุชุฑูุง ูพุดุฑูุชู:
  - ููุน ูุฑุงุฎูุงู
  - ุฏุงูุดฺฉุฏู (ุจุง ุชูุฌู ุจู ุฏุณุชุฑุณ ูุณุฆูู)
  - ฺฏุฑูู ุขููุฒุด (dynamic ุจุฑ ุงุณุงุณ ุฏุงูุดฺฉุฏู ุงูุชุฎุงุจ ุดุฏู)
  - ูุถุนุช ุจุฑุฑุณ ุฏุงูุดฺฉุฏู (ุจุฑุฑุณ ุดุฏู / ุฏุฑ ุงูุชุธุงุฑ)
  - ุฌุณุชุฌู
- โ ููุงุด ุงูุชุงุฒ ฺฉู (ุจุฑุง ูพุฑููุฏูโูุง ฺฉู ูุญุงุณุจู ุดุฏู)
- โ Pagination

**ุจุฑุฑุณ ููุง ูพุฑููุฏู** (`FacultyAdminApplicationReview.tsx`):
- โ ููุงุด ฺฉุงูู ุงุทูุงุนุงุช (ูุดุงุจู University Admin)
- โ ููุงุด ุณูุงุจู ูพฺููุด (ููุท ุจุฑุง PHD_TALENT ู PHD_EXAM)
- โ 2 ููุน ุชุตูู:
  - **ูพุฐุฑุด** (APPROVED)
  - **ุนุฏู ูพุฐุฑุด** (REJECTED)
- โ ุงูุชุงุฒุฏู ุฏุณุช ุจุฑุง ุฏฺฉุชุฑ:
  - ุงูุชุงุฒ ูพฺููุด
  - ุงูุชุงุฒ ุงูุชุดุงุฑุงุช
- โ ูุฑู ูุธุฑ ู ุชูุถุญุงุช

#### 3. Routing (`App.tsx`)
โ ูุณุฑูุง ุฌุฏุฏ:
- `/admin/university/applications` - ูุณุช University Admin
- `/admin/university/applications/:id` - ุจุฑุฑุณ University Admin
- `/admin/faculty/applications` - ูุณุช Faculty Admin
- `/admin/faculty/applications/:id` - ุจุฑุฑุณ Faculty Admin

---

## ๐ฏ ูฺฺฏโูุง ฺฉูุฏ

### ุฌุฏุงุณุงุฒ ููุดโูุง
1. **ูุณุฆูู ุฏุงูุดฺฏุงู (University Admin)**:
   - ุจุฑุฑุณ ุตุญุช ูุฏุงุฑฺฉ
   - ุชุงุฏ / ุจุฑฺฏุดุช / ุฑุฏ ูพุฑููุฏู
   - ุฏุณุชุฑุณ ุจู ููุน ูุฑุงุฎูุงูโูุง ูุดุฎุต (ุจุฑ ุงุณุงุณ AdminPermission)

2. **ูุณุฆูู ุฏุงูุดฺฉุฏู (Faculty Admin)**:
   - ุชุตููโฺฏุฑ ููุง ูพุฐุฑุด
   - ุงูุชุงุฒุฏู ุฏุณุช (ุจุฑุง ุฏฺฉุชุฑ)
   - ุฏุณุชุฑุณ ุจู ุฏุงูุดฺฉุฏูโูุง ู ฺฏุฑููโูุง ุขููุฒุด ูุดุฎุต

### ุณุณุชู ููุชุฑูฺฏ ูพุดุฑูุชู
โ **5 ููุน ููุชุฑ ุจุฑุง University Admin:**
1. ููุน ูุฑุงุฎูุงู (4 ููุน)
2. ูุถุนุช ุจุฑุฑุณ (4 ุญุงูุช)
3. ุฏุงูุดฺฉุฏู
4. ฺฏุฑูู ุขููุฒุด
5. ููุชุฑ ูฺู: ูพุฑููุฏูโูุง ูุฑุงุด ุดุฏู

โ **5 ููุน ููุชุฑ ุจุฑุง Faculty Admin:**
1. ููุน ูุฑุงุฎูุงู
2. ุฏุงูุดฺฉุฏู (ูุญุฏูุฏ ุจู ุฏุณุชุฑุณ ูุณุฆูู)
3. ฺฏุฑูู ุขููุฒุด (dynamic)
4. ูุถุนุช ุจุฑุฑุณ
5. ุฌุณุชุฌู

### ุณุณุชู ูุถุนุช ูพุฑููุฏู
```
ูุชูุงุถ ุซุจุชโูุงู ูโฺฉูุฏ
    โ
SUBMITTED (ุงุฑุณุงู ุดุฏู)
    โ
UNDER_UNIVERSITY_REVIEW (ุฏุฑ ุญุงู ุจุฑุฑุณ ุชูุณุท ูุณุฆูู ุฏุงูุดฺฏุงู)
    โ
    โโโ APPROVED_BY_UNIVERSITY โ UNDER_FACULTY_REVIEW
    โโโ APPROVED_WITH_DEFECT โ RETURNED_FOR_CORRECTION โ (ุจุนุฏ ุงุฒ ูุฑุงุด) SUBMITTED*
    โโโ REJECTED_BY_UNIVERSITY
    โ
FACULTY_REVIEW_COMPLETED (ุชุตูู ููุง)
```

*ูฺฉุชู: ูพุฑููุฏูโูุง RETURNED_FOR_CORRECTION ฺฉู ุฏูุจุงุฑู SUBMITTED ูโุดููุฏุ ุจุง ููุชุฑ `is_corrected=true` ูุงุจู ุดูุงุณุง ูุณุชูุฏ.

### ุขูุงุฑ ู ฺฏุฒุงุฑุดโฺฏุฑ
โ **University Admin Statistics:**
- ฺฉู ูพุฑููุฏูโูุง
- ุฏุฑ ุงูุชุธุงุฑ ุจุฑุฑุณ (SUBMITTED)
- ุฏุฑ ุญุงู ุจุฑุฑุณ (UNDER_UNIVERSITY_REVIEW)
- ุชุงุฏ ุดุฏู (APPROVED)
- ุจุฑฺฏุดุช ุฏุงุฏู ุดุฏู (RETURNED_FOR_CORRECTION)
- ูุฑุงุด ุดุฏู ู ุงุฑุณุงู ูุฌุฏุฏ
- ุฑุฏ ุดุฏู (REJECTED)

โ **Faculty Admin Statistics:**
- ฺฉู ูพุฑููุฏูโูุง
- ุฏุฑ ุงูุชุธุงุฑ ุจุฑุฑุณ (faculty_review_completed=False)
- ุจุฑุฑุณ ุดุฏู (faculty_review_completed=True)

---

## ๐ ูุงูโูุง ุงุฌุงุฏ/ูุฑุงุด ุดุฏู

### Backend (4 ูุงู)
1. โ `backend/apps/api/admin_views.py` - **ุฌุฏุฏ** (650+ ุฎุท)
2. โ `backend/apps/api/admin_urls.py` - **ุฌุฏุฏ** (13 ุฎุท)
3. โ `backend/apps/api/permissions.py` - **ูุฑุงุด ุดุฏู** (+50 ุฎุท)
4. โ `backend/config/urls.py` - **ูุฑุงุด ุดุฏู** (+1 ุฎุท)

### Frontend (5 ูุงู)
1. โ `frontend/src/pages/admin/UniversityAdminApplicationsList.tsx` - **ุฌุฏุฏ** (500+ ุฎุท)
2. โ `frontend/src/pages/admin/UniversityAdminApplicationReview.tsx` - **ุฌุฏุฏ** (450+ ุฎุท)
3. โ `frontend/src/pages/admin/FacultyAdminApplicationsList.tsx` - **ุฌุฏุฏ** (450+ ุฎุท)
4. โ `frontend/src/pages/admin/FacultyAdminApplicationReview.tsx` - **ุฌุฏุฏ** (500+ ุฎุท)
5. โ `frontend/src/App.tsx` - **ูุฑุงุด ุดุฏู** (+50 ุฎุท)

**ุฌูุน ฺฉู: ~2,650+ ุฎุท ฺฉุฏ ุฌุฏุฏ**

---

## ๐ ููู ฺฉุงูู ุณุณุชู

### ููู University Admin:
1. ูุฑูุฏ ุจู `/admin/university/applications`
2. ูุดุงูุฏู ุขูุงุฑ ู ูุณุช ูพุฑููุฏูโูุง
3. ุงุนูุงู ููุชุฑูุง (ููุน ูุฑุงุฎูุงูุ ุฏุงูุดฺฉุฏูุ ูุถุนุชุ ุฌุณุชุฌู)
4. ฺฉูฺฉ ุฑู "ุจุฑุฑุณ" โ ูุดุงูุฏู ุฌุฒุฆุงุช ฺฉุงูู
5. ุงูุชุฎุงุจ ฺฉ ุงุฒ 3 ุชุตูู + ููุดุชู ูุธุฑ
6. (ุงฺฏุฑ ุจุฑฺฏุดุช) ุงูุฒูุฏู ูุณุช ููุงูุต
7. ุซุจุช ุจุฑุฑุณ โ ุจูโุฑูุฒุฑุณุงู ูุถุนุช ูพุฑููุฏู

### ููู Faculty Admin:
1. ูุฑูุฏ ุจู `/admin/faculty/applications`
2. ููุชุฑ ุจุฑ ุงุณุงุณ ุฏุงูุดฺฉุฏูุ ฺฏุฑููุ ููุน ูุฑุงุฎูุงู
3. ฺฉูฺฉ ุฑู "ุจุฑุฑุณ" โ ูุดุงูุฏู ุฌุฒุฆุงุช + ุณูุงุจู ูพฺููุด
4. (ุงฺฏุฑ ุฏฺฉุชุฑ) ูุฑูุฏ ุงูุชุงุฒูุง ุฏุณุช
5. ุงูุชุฎุงุจ ูพุฐุฑุด/ุนุฏู ูพุฐุฑุด + ููุดุชู ูุธุฑ
6. ุซุจุช ุชุตูู ููุง

### ููู ูุชูุงุถ (ุจุนุฏ ุงุฒ ุจุฑฺฏุดุช):
1. ุฏุฑุงูุช ููุชูฺฉุดู ุจุฑฺฏุดุช ูพุฑููุฏู
2. ูุดุงูุฏู ูุณุช ููุงูุต ุฏุฑ dashboard
3. ูุฑุงุด ูุฏุงุฑฺฉ/ุงุทูุงุนุงุช
4. ุงุฑุณุงู ูุฌุฏุฏ โ ูพุฑููุฏู ุจุง flag `is_corrected` ุฏุฑ ูุณุช University Admin ููุงุด ุฏุงุฏู ูโุดูุฏ

---

## ๐งช ุชุณุชโูุง ูพุดููุงุฏ

### Backend:
```bash
# ุชุณุช ุฏุณุชุฑุณ University Admin
curl -H "Authorization: Bearer <token>" http://localhost:8000/api/admin/university/applications/

# ุชุณุช ููุชุฑูุง
curl -H "Authorization: Bearer <token>" "http://localhost:8000/api/admin/university/applications/?round_type=MA_TALENT&university_review_status=PENDING"

# ุชุณุช ุจุฑุฑุณ ูพุฑููุฏู
curl -X POST -H "Authorization: Bearer <token>" \
  -d '{"review_status": "APPROVED", "comment": "ุชุงุฏ ุดุฏ"}' \
  http://localhost:8000/api/admin/university/applications/1/review/
```

### Frontend:
1. ูุฑูุฏ ุจุง ุญุณุงุจ University Admin โ ุจุฑุฑุณ ููุชุฑูุง
2. ูุฑูุฏ ุจุง ุญุณุงุจ Faculty Admin โ ุจุฑุฑุณ ูุญุฏูุฏุช ุฏุงูุดฺฉุฏู
3. ุชุณุช ุงูุชุงุฒุฏู ุฏุณุช ุฏุฑ ูพุฑููุฏู ุฏฺฉุชุฑ
4. ุชุณุช pagination ุจุง ุชุนุฏุงุฏ ุฒุงุฏ ูพุฑููุฏู

---

## ๐ ูฺฉุงุช ููู

1. **ุฏุณุชุฑุณโูุง**: ููู endpointโูุง ุจุฑ ุงุณุงุณ `AdminPermission` model ฺฉุงุฑ ูโฺฉููุฏ
2. **Pagination**: ูุฑ ุตูุญู 20 ููุฑุฏ (ูุงุจู ุชุบุฑ ุจุง query param `page_size`)
3. **ููุชุฑ Dynamic**: ฺฏุฑููโูุง ุขููุฒุด ุจุฑ ุงุณุงุณ ุฏุงูุดฺฉุฏู ุงูุชุฎุงุจ ููุฏ ูโุดููุฏ
4. **ุงูุชุงุฒุฏู**: ููุท ุจุฑุง PHD_TALENT ู PHD_EXAM ูุนุงู ุงุณุช
5. **ูุถุนุช ูุฑุงุด ุดุฏู**: ุจุง ฺฺฉ ฺฉุฑุฏู `university_reviewed_at` ู `status=SUBMITTED` ุชุดุฎุต ุฏุงุฏู ูโุดูุฏ

---

## ๐ ูุชุฌู

ุณุณุชู ูพูู ุงุฏูู ฺฉุงูู ุจุง:
- โ ุฌุฏุงุณุงุฒ ฺฉุงูู ููุดโูุง University Admin ู Faculty Admin
- โ ููุชุฑูุง ูพุดุฑูุชู ุจุฑ ุงุณุงุณ ููุน ูุฑุงุฎูุงูุ ุฏุงูุดฺฉุฏูุ ฺฏุฑูู ุขููุฒุด
- โ ุณุณุชู ุณูุฑุช ู ุฌุณุชุฌู
- โ ุงูุชุงุฒุฏู ุฏุณุช ุจุฑุง ุฏฺฉุชุฑ
- โ ุชุดุฎุต ูพุฑููุฏูโูุง ูุฑุงุด ุดุฏู
- โ ุขูุงุฑ ู ฺฏุฒุงุฑุดโฺฏุฑ real-time

**ูพุงุฏูโุณุงุฒ 100% ุชูุงู ุงุณุช! ๐**
